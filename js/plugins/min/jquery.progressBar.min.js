!function(a){a.fn.progressBar=function(b,c){var d={speed:600,easing:"swing",total:!1,percent:!1},e=a.extend({},d,b);return this.each(function(){var b=a(this),c=b.find(".progress-bar"),d=0;methods={init:function(){this.touch=Modernizr.touch,this.processing()},getProgress:function(a,b){return a.data("progress")*b},setProgress:function(b){if(e.total)var f=c.not(".total-score").size();c.not(".total-score").each(function(c,f){var g=a(".bar",a(f)),h=a(".progress-percent",a(f));e.total&&(d+=b.getProgress(g,1)),b.animFn(g,h,b.getProgress(g,10),e)}).end().filter(".total-score").each(function(c,g){if(e.total){var h=a(".bar",a(g)),i=a(".progress-percent",a(g)),j=10*(d/f).toFixed(1);b.animFn(h,i,j,e,!0)}})},animFn:function(a,b,c,d,f){e.percent?a.animate({width:c+"%"},{duration:d.speed,easing:d.easing}):a.animate({width:c+"%"},{duration:d.speed,easing:d.easing,step:function(a){d.total&&!f?b.text((a/10).toFixed(0)):b.text((a/10).toFixed(1))}})},processing:function(){var a=this;a.touch?a.setProgress(a):b.appear({accX:0,accY:-150,data:function(){a.setProgress(a)}})}}.init()})}}(jQuery);